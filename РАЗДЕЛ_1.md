# РАЗДЕЛ 1. ЗАДАЧИ, АРХИТЕКТУРА И БЕЗОПАСНОСТЬ

## 1.1 Задачи проекта

В рамках данной курсовой работы были поставлены и успешно решены следующие задачи:

1. **Проектирование клиент-серверной архитектуры** - разработка архитектуры с чётким разделением компонентов, выбор технологического стека (libsodium, Qt, TCP/JSON).

2. **Реализация серверной части** - разработка TCP-сервера с системой аутентификации, хранилищами паролей, механизмом восстановления через seed-фразу.

3. **Разработка клиентского приложения** - создание графического интерфейса на Qt с функциями управления паролями, генерации и оценки сложности паролей.

4. **Реализация криптографической защиты** - интеграция современных алгоритмов (Argon2id для хеширования, AES-256-GCM для шифрования хранилищ).

5. **Обеспечение безопасности данных** - защита паролей при хранении и передаче, валидация входных данных, защита от словарных атак.

6. **Контейнеризация и документирование** - подготовка Docker-образа для развёртывания, создание полной технической документации проекта.

## 1.2 Архитектура приложения

### 1.2.1 Общая архитектура

Система построена по классической клиент-серверной архитектуре с чётким разделением компонентов:

```
┌─────────────────────────────────────────────────────────────┐
│                     КЛИЕНТСКАЯ ЧАСТЬ                        │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────────┐  ┌────────────────┐  ┌────────────────┐  │
│  │  MainWindow  │  │PasswordGenerator│  │PasswordEvaluator│ │
│  │   (Qt GUI)   │  │                │  │                │  │
│  └──────┬───────┘  └────────────────┘  └────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │              Client (Сетевой клиент)                  │  │
│  │     - Подключение к серверу                          │  │
│  │     - Отправка/получение запросов                    │  │
│  │     - Локальное кеширование                          │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │         UserHashTable (Локальное хранилище)          │  │
│  │     - Хеш-таблица для паролей                        │  │
│  │     - Шифрование/дешифрование                        │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                           │
                           │ TCP/IP (JSON протокол)
                           │
┌─────────────────────────▼───────────────────────────────────┐
│                     СЕРВЕРНАЯ ЧАСТЬ                         │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────┐  │
│  │            Server (TCP-сервер)                       │  │
│  │     - Прослушивание порта                           │  │
│  │     - Обработка подключений                         │  │
│  │     - Маршрутизация запросов                        │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │          AuthManager (Аутентификация)                │  │
│  │     - Регистрация пользователей                     │  │
│  │     - Проверка учётных данных                       │  │
│  │     - Генерация/проверка seed-фразы                 │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │      HashTableUsers (База пользователей)             │  │
│  │     - Хранение учётных данных                       │  │
│  │     - Операции CRUD                                  │  │
│  │     - Сохранение/загрузка из файла                  │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                              │
│  ┌──────────────────────────────────────────────────────┐  │
│  │    UserHashTable (Хранилища паролей)                 │  │
│  │     - Индивидуальное хранилище для каждого          │  │
│  │     - Шифрованное хранение паролей                  │  │
│  │     - Операции добавления/изменения/удаления        │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 1.2.2 Уровни архитектуры

**Уровень 1: Библиотеки и фреймворки**
- libsodium - криптографические примитивы
- Qt Framework - графический интерфейс
- nlohmann/json - сериализация данных
- POSIX sockets - сетевое взаимодействие

**Уровень 2: Базовые структуры данных**
- HashTableUsers - хеш-таблица пользователей
- UserHashTable - хеш-таблица паролей
- Криптографические утилиты (common_utils)

**Уровень 3: Бизнес-логика**
- AuthManager - управление аутентификацией
- PasswordGenerator - генерация паролей
- PasswordEvaluator - оценка сложности паролей

**Уровень 4: Сетевой уровень**
- Server - серверный компонент
- Client - клиентский компонент
- Протокол обмена (JSON поверх TCP)

**Уровень 5: Уровень представления**
- MainWindow - графический интерфейс пользователя
- Формы регистрации, входа, управления паролями

### 1.2.3 Протокол взаимодействия

Клиент и сервер обмениваются JSON-сообщениями через TCP-соединение. Типовые запросы:

1. **Регистрация**: `{"action": "register", "login": "...", "password": "...", "codeWord": "..."}`
2. **Вход**: `{"action": "login", "login": "...", "password": "...", "codeWord": "..."}`
3. **Синхронизация**: `{"action": "sync", "login": "...", "vault": {...}}`
4. **Восстановление**: `{"action": "recover", "login": "...", "seedPhrase": "..."}`

### 1.2.4 Хранение данных

**Серверная часть:**
- `users.dat` - файл с хеш-таблицей пользователей (учётные данные, хеши, соли)
- `vaults/<username>.vault` - зашифрованные хранилища паролей для каждого пользователя

**Клиентская часть:**
- Временное хранение в памяти после загрузки с сервера
- Локальное кеширование для работы в offline-режиме (опционально)

## 1.3 Безопасность

### 1.3.1 Криптографические механизмы

**Хеширование паролей:**
- Алгоритм: Argon2id (память-интенсивная функция деривации ключа)
- Защита от: brute-force атак, rainbow tables, GPU-ускоренного перебора
- Параметры: регулируемая память и время вычисления

**Шифрование хранилищ:**
- Алгоритм: AES-256-GCM (аутентифицированное шифрование)
- Защита от: несанкционированного доступа к файлам, модификации данных
- Ключ: производный от кодового слова пользователя через PBKDF2

**Генерация случайных данных:**
- Источник: Криптографически стойкий генератор (libsodium CSPRNG)
- Использование: seed-фразы, соли, инициализационные векторы

### 1.3.2 Защита от угроз

| Угроза | Механизм защиты |
|--------|----------------|
| Слабые пароли | PasswordEvaluator проверяет пароли на наличие в словаре, PasswordGenerator создаёт стойкие пароли |
| Перехват сетевого трафика | Возможность интеграции TLS/SSL для шифрования канала связи |
| Компрометация базы паролей | AES-256-GCM шифрование с уникальными ключами для каждого пользователя |
| Атаки перебора | Argon2id с высокими параметрами вычислительной сложности |
| Утеря мастер-пароля | Механизм восстановления через seed-фразу из 12 слов |
| НСД к данным в памяти | Очистка чувствительных данных после использования |

### 1.3.3 Соответствие стандартам

Система соответствует следующим стандартам безопасности:
- **ГОСТ Р 50922-2006** - защита информации, основные термины и определения
- **FIPS 197** - AES (Advanced Encryption Standard)
- **RFC 9106** - спецификация алгоритма Argon2
- **NIST SP 800-63B** - рекомендации по аутентификации

### 1.3.4 Ограничения безопасности

Система **НЕ ЗАМЕНЯЕТ**:
- Многофакторную аутентификацию (MFA/2FA)
- Системы обнаружения вторжений (IDS/IPS)
- Антивирусное программное обеспечение
- Комплексные IAM-решения

**Рекомендации пользователям:**
- Использовать уникальное, стойкое кодовое слово
- Надёжно сохранить seed-фразу в безопасном месте
- Регулярно обновлять мастер-пароль
- Не использовать систему на скомпрометированных устройствах

## ЗАКЛЮЧЕНИЕ

В рамках данной курсовой работы была разработана полнофункциональная система управления паролями с клиент-серверной архитектурой, демонстрирующая практическое применение современных криптографических технологий.

### Достигнутые результаты

1. Реализован TCP-сервер с аутентификацией и шифрованными хранилищами паролей
2. Создан графический интерфейс на Qt с функциями генерации и оценки паролей
3. Интегрированы криптографические алгоритмы Argon2id и AES-256-GCM
4. Разработан механизм восстановления доступа через seed-фразу из 12 слов
5. Подготовлена контейнеризация через Docker

### Практическая значимость

Система может использоваться для безопасного хранения паролей конечными пользователями, служит образовательным примером применения криптографических протоколов и демонстрирует лучшие практики разработки безопасного ПО.

### Перспективы развития

Возможные улучшения включают добавление двухфакторной аутентификации, интеграцию TLS/SSL, реализацию мобильных клиентов, автоматическое заполнение форм и систему резервного копирования.

Все поставленные задачи выполнены, цели курсовой работы достигнуты. Система готова к использованию в образовательных и практических целях.
