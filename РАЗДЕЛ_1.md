# РАЗДЕЛ 1. ЗАДАЧИ, АРХИТЕКТУРА И БЕЗОПАСНОСТЬ

## 1.1 Задачи проекта

В рамках данной курсовой работы были поставлены и успешно решены следующие задачи:

### 1.1.1 Анализ и проектирование
1. **Анализ предметной области** - изучение существующих решений в области управления паролями, выявление их недостатков и определение функциональных требований к разрабатываемой системе.
2. **Проектирование архитектуры** - разработка клиент-серверной архитектуры с чётким разделением ответственности между компонентами.
3. **Выбор технологического стека** - обоснованный выбор libsodium для криптографии, Qt для GUI, хеш-таблиц для хранения данных, TCP для сетевого взаимодействия.

### 1.1.2 Разработка серверной части
1. **Реализация TCP-сервера** - многопоточный сервер на базе POSIX sockets для обработки клиентских запросов.
2. **Система аутентификации** - регистрация и вход с использованием Argon2id для хеширования паролей.
3. **Хранение данных пользователей** - структура данных HashTableUsers для управления учётными записями.
4. **Управление хранилищами** - создание, сохранение и загрузка зашифрованных хранилищ паролей для каждого пользователя.
5. **Механизм восстановления** - генерация и проверка seed-фразы из 12 слов для восстановления доступа.

### 1.1.3 Разработка клиентской части
1. **Графический интерфейс** - интуитивно понятный GUI на Qt с формами регистрации, входа и управления паролями.
2. **Сетевой клиент** - реализация TCP-клиента для взаимодействия с сервером через JSON-протокол.
3. **Локальное хранилище** - клиентская структура данных для работы с паролями после синхронизации с сервером.
4. **Генератор паролей** - криптографически безопасная генерация паролей с настраиваемыми параметрами (длина, классы символов).
5. **Оценка сложности паролей** - модуль анализа паролей на предмет уязвимости к словарным атакам (rockyou_1000k.txt).

### 1.1.4 Обеспечение безопасности
1. **Криптографическая защита** - использование современных алгоритмов (Argon2id, AES-256-GCM, SHA-512).
2. **Безопасное хранение** - шифрование всех паролей в хранилище с использованием ключа, производного от кодового слова пользователя.
3. **Защита передачи данных** - возможность интеграции TLS/SSL для защиты сетевого трафика.
4. **Валидация данных** - проверка входных данных на корректность для предотвращения атак.

### 1.1.5 Развёртывание и документация
1. **Контейнеризация** - подготовка Dockerfile для развёртывания серверной части в изолированной среде.
2. **Документирование** - создание полной технической документации проекта, включая описание архитектуры, API, сообщений системы и руководства пользователя.

## 1.2 Архитектура приложения

### 1.2.1 Общая архитектура

Система построена по классической клиент-серверной архитектуре с чётким разделением компонентов:

```
┌─────────────────────────────────────────────────────────────┐
│                     КЛИЕНТСКАЯ ЧАСТЬ                        │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────────┐  ┌────────────────┐  ┌────────────────┐  │
│  │  MainWindow  │  │PasswordGenerator│  │PasswordEvaluator│ │
│  │   (Qt GUI)   │  │                │  │                │  │
│  └──────┬───────┘  └────────────────┘  └────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │              Client (Сетевой клиент)                  │  │
│  │     - Подключение к серверу                          │  │
│  │     - Отправка/получение запросов                    │  │
│  │     - Локальное кеширование                          │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │         UserHashTable (Локальное хранилище)          │  │
│  │     - Хеш-таблица для паролей                        │  │
│  │     - Шифрование/дешифрование                        │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                           │
                           │ TCP/IP (JSON протокол)
                           │
┌─────────────────────────▼───────────────────────────────────┐
│                     СЕРВЕРНАЯ ЧАСТЬ                         │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────┐  │
│  │            Server (TCP-сервер)                       │  │
│  │     - Прослушивание порта                           │  │
│  │     - Обработка подключений                         │  │
│  │     - Маршрутизация запросов                        │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │          AuthManager (Аутентификация)                │  │
│  │     - Регистрация пользователей                     │  │
│  │     - Проверка учётных данных                       │  │
│  │     - Генерация/проверка seed-фразы                 │  │
│  └──────┬───────────────────────────────────────────────┘  │
│         │                                                    │
│  ┌──────▼───────────────────────────────────────────────┐  │
│  │      HashTableUsers (База пользователей)             │  │
│  │     - Хранение учётных данных                       │  │
│  │     - Операции CRUD                                  │  │
│  │     - Сохранение/загрузка из файла                  │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                              │
│  ┌──────────────────────────────────────────────────────┐  │
│  │    UserHashTable (Хранилища паролей)                 │  │
│  │     - Индивидуальное хранилище для каждого          │  │
│  │     - Шифрованное хранение паролей                  │  │
│  │     - Операции добавления/изменения/удаления        │  │
│  └──────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 1.2.2 Уровни архитектуры

**Уровень 1: Библиотеки и фреймворки**
- libsodium - криптографические примитивы
- Qt Framework - графический интерфейс
- nlohmann/json - сериализация данных
- POSIX sockets - сетевое взаимодействие

**Уровень 2: Базовые структуры данных**
- HashTableUsers - хеш-таблица пользователей
- UserHashTable - хеш-таблица паролей
- Криптографические утилиты (common_utils)

**Уровень 3: Бизнес-логика**
- AuthManager - управление аутентификацией
- PasswordGenerator - генерация паролей
- PasswordEvaluator - оценка сложности паролей

**Уровень 4: Сетевой уровень**
- Server - серверный компонент
- Client - клиентский компонент
- Протокол обмена (JSON поверх TCP)

**Уровень 5: Уровень представления**
- MainWindow - графический интерфейс пользователя
- Формы регистрации, входа, управления паролями

### 1.2.3 Протокол взаимодействия

Клиент и сервер обмениваются JSON-сообщениями через TCP-соединение. Типовые запросы:

1. **Регистрация**: `{"action": "register", "login": "...", "password": "...", "codeWord": "..."}`
2. **Вход**: `{"action": "login", "login": "...", "password": "...", "codeWord": "..."}`
3. **Синхронизация**: `{"action": "sync", "login": "...", "vault": {...}}`
4. **Восстановление**: `{"action": "recover", "login": "...", "seedPhrase": "..."}`

### 1.2.4 Хранение данных

**Серверная часть:**
- `users.dat` - файл с хеш-таблицей пользователей (учётные данные, хеши, соли)
- `vaults/<username>.vault` - зашифрованные хранилища паролей для каждого пользователя

**Клиентская часть:**
- Временное хранение в памяти после загрузки с сервера
- Локальное кеширование для работы в offline-режиме (опционально)

## 1.3 Безопасность

### 1.3.1 Криптографические механизмы

**Хеширование паролей:**
- Алгоритм: Argon2id (память-интенсивная функция деривации ключа)
- Защита от: brute-force атак, rainbow tables, GPU-ускоренного перебора
- Параметры: регулируемая память и время вычисления

**Шифрование хранилищ:**
- Алгоритм: AES-256-GCM (аутентифицированное шифрование)
- Защита от: несанкционированного доступа к файлам, модификации данных
- Ключ: производный от кодового слова пользователя через PBKDF2

**Генерация случайных данных:**
- Источник: Криптографически стойкий генератор (libsodium CSPRNG)
- Использование: seed-фразы, соли, инициализационные векторы

### 1.3.2 Защита от угроз

| Угроза | Механизм защиты |
|--------|----------------|
| Слабые пароли | PasswordEvaluator проверяет пароли на наличие в словаре, PasswordGenerator создаёт стойкие пароли |
| Перехват сетевого трафика | Возможность интеграции TLS/SSL для шифрования канала связи |
| Компрометация базы паролей | AES-256-GCM шифрование с уникальными ключами для каждого пользователя |
| Атаки перебора | Argon2id с высокими параметрами вычислительной сложности |
| Утеря мастер-пароля | Механизм восстановления через seed-фразу из 12 слов |
| НСД к данным в памяти | Очистка чувствительных данных после использования |

### 1.3.3 Соответствие стандартам

Система соответствует следующим стандартам безопасности:
- **ГОСТ Р 50922-2006** - защита информации, основные термины и определения
- **FIPS 197** - AES (Advanced Encryption Standard)
- **RFC 9106** - спецификация алгоритма Argon2
- **NIST SP 800-63B** - рекомендации по аутентификации

### 1.3.4 Ограничения безопасности

Система **НЕ ЗАМЕНЯЕТ**:
- Многофакторную аутентификацию (MFA/2FA)
- Системы обнаружения вторжений (IDS/IPS)
- Антивирусное программное обеспечение
- Комплексные IAM-решения

**Рекомендации пользователям:**
- Использовать уникальное, стойкое кодовое слово
- Надёжно сохранить seed-фразу в безопасном месте
- Регулярно обновлять мастер-пароль
- Не использовать систему на скомпрометированных устройствах

## ЗАКЛЮЧЕНИЕ

В рамках данной курсовой работы была разработана полнофункциональная система управления паролями с клиент-серверной архитектурой. Проект демонстрирует практическое применение современных криптографических технологий и архитектурных подходов для решения актуальной проблемы безопасного хранения и управления учётными данными.

### Достигнутые результаты

**Технические достижения:**
1. Реализован TCP-сервер с поддержкой многопоточной обработки запросов
2. Создан графический интерфейс на Qt с полным функционалом управления паролями
3. Интегрированы современные криптографические алгоритмы (Argon2id, AES-256-GCM)
4. Разработан механизм восстановления доступа через seed-фразу
5. Реализована система оценки сложности паролей на основе словарных атак
6. Подготовлена контейнеризация приложения через Docker

**Практическая значимость:**
- Система может использоваться конечными пользователями для безопасного хранения паролей
- Подходит для образовательных целей как пример реализации криптографических протоколов
- Служит основой для дальнейшего развития и добавления новых функций
- Демонстрирует best practices в области разработки безопасного ПО

### Перспективы развития

**Функциональные улучшения:**
1. Добавление поддержки 2FA (TOTP/HOTP)
2. Реализация автоматического заполнения форм в браузерах
3. Синхронизация между несколькими устройствами
4. Групповое управление паролями в корпоративной среде
5. Поддержка биометрической аутентификации

**Технические улучшения:**
1. Интеграция TLS/SSL для защищённого канала связи
2. Реализация end-to-end шифрования для дополнительной защиты
3. Добавление механизма резервного копирования
4. Оптимизация производительности хеш-таблиц
5. Реализация мобильных клиентов (Android/iOS)

**Безопасность:**
1. Проведение полноценного аудита безопасности
2. Внедрение системы логирования и мониторинга
3. Добавление защиты от MITM-атак
4. Реализация механизма обнаружения аномального поведения
5. Сертификация соответствия международным стандартам

### Выводы

Разработанная система успешно решает поставленную задачу безопасного управления паролями, демонстрируя:
- Корректность применения криптографических примитивов
- Грамотное проектирование архитектуры ПО
- Понимание принципов информационной безопасности
- Практические навыки разработки на C++ и Qt

Проект подтверждает, что при правильном подходе возможно создание надёжного и безопасного инструмента для защиты пользовательских данных. Однако важно понимать, что абсолютной безопасности не существует, и система должна рассматриваться как один из элементов комплексной защиты информации.

Все поставленные задачи выполнены, цели курсовой работы достигнуты. Система готова к использованию в образовательных и практических целях с учётом описанных ограничений и рекомендаций по безопасности.
